{"version":3,"file":"list-contenido.component.js","sourceRoot":"","sources":["list-contenido.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component,Input,OnInit} from 'angular2/core';\nimport {Contenido} from './contenido.model';\nimport {ContenidoService} from './contenido.service';\nimport {modoadminservice} from './modoadmin.service';\nimport { Router } from 'angular2/router';\nimport { RouteParams } from 'angular2/router';\nimport {SesionService} from './sesion.service';\n\n@Component({\n  selector:'listcontenido',\n  template: `\n    <div class=\"row admin fondo\">\n      <div class=\"col-sm-3 aux\">\n        <ul class=\"nav nav-pills nav-stacked col-sm-12 contorno\">\n          <li  [class.selected]=\"tipoopcion==1\" (click)=\"gotoadmin_users('Users')\"><a >Usuarios</a></li>\n          <li  [class.selected]=\"tipoopcion==2\" (click)=\"gotoadmin_contenido('Noticia')\"><a >Noticias</a></li>\n          <li  [class.selected]=\"tipoopcion==3\" (click)=\"gotoadmin_contenido('An치lisis')\"><a >Analisis</a></li>\n          <li  [class.selected]=\"tipoopcion==4\" (click)=\"gotoadmin_productos()\"><a >Productos</a></li>\n          <li  (click)=\"gotoadmin_salir()\"><a >Salir</a></li>\n        </ul>\n        <button (click)=\"gotoAnadirContenido()\" class=\"btnanadir btn btn-danger col-sm-12 col-xs-12\"  >A침adir Contenido</button>\n      </div>\n\n      <div class=\"admin_info admin_contenido col-sm-9 col-xs-12\"  *ngFor=\"#contenido of list_contenido\">\n        <div class=\"col-sm-8 col-xs-9\">\n          <h3 class=\"col-sm-12\">{{contenido.titulo}}</h3>\n          <p class=\"col-sm-5 col-xs-5\">Fecha: {{contenido.fecha}}</p>\n          <p class=\"col-sm-7 col-xs-7\">Categoria: {{contenido.categoria}}</p>\n        </div>\n        <button (click)=\"eliminarContenido(contenido)\" class=\"btn col-sm-4 col-xs-4\"  >Eliminar</button>\n      </div>\n    </div>\n  `\n})\n\nexport class listcontenido implements OnInit{\n  tipoopcion:number;\n  list_contenido:Contenido[];\n  constructor (private router: Router,private _sesionService: SesionService,private adminservice: modoadminservice,private _routeParams: RouteParams){}\n\n  getcontenido(){\n    let tipo = this._routeParams.get('tipo');\n    this.adminservice.getContenidotipo(tipo).subscribe(list => this.list_contenido=list);\n  }\n\n  eliminarContenido(content:Contenido){\n    this.adminservice.deleteContenido(content.id).subscribe(id =>{\n      this.getcontenido();\n    });\n  }\n\n  getopcion(){\n    let tipo = this._routeParams.get('tipo');\n    if (tipo == \"Noticia\"){\n      this.tipoopcion=2;\n    }\n    if (tipo == \"An치lisis\"){\n      this.tipoopcion=3;\n    }\n  }\n\n  ngOnInit(){\n    this.getopcion();\n    this.getcontenido();\n  }\n\n  gotoAnadirContenido(){\n    if (this.tipoopcion == 2){\n      let link = ['AdminNewContenido',{tipo:\"Noticia\",nuevo:\"NuevaNoticia\"}];\n      this.router.navigate(link);\n    }\n    if (this.tipoopcion == 3){\n      let link = ['AdminNewContenido',{tipo:\"An치lisis\",nuevo:\"NuevoAnalisis\"}];\n      this.router.navigate(link);\n    }\n\n  }\n  gotoadmin_users(){\n    let link = ['AdminUsers'];\n    this.router.navigate(link);\n  }\n  gotoadmin_contenido(opc:string){\n    let link = ['AdminContenido',{tipo:opc}];\n    this.router.navigate(link);\n  }\n  gotoadmin_productos(){\n    let link = ['AdminProductos'];\n    this.router.navigate(link);\n  }\n  gotoadmin_salir(){\n  \tthis._sesionService.logOut().subscribe(\n  \t\tresponse => {},\n  \t\terror => console.log(\"Error when trying to log out: \"+error)\n  \t);\n\n    let link = ['Home'];\n    this.router.navigate(link);\n  }\n}\n"]}