{"version":3,"file":"ajustes.component.js","sourceRoot":"","sources":["ajustes.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAkBA;gBAQE,SAAS;gBACT,0BAAoB,eAA+B,EAAU,YAAyB,EAAU,cAA6B;oBAAzG,oBAAe,GAAf,eAAe,CAAgB;oBAAU,iBAAY,GAAZ,YAAY,CAAa;oBAAU,mBAAc,GAAd,cAAc,CAAe;oBAL7H,YAAO,GAAY,KAAK,CAAC;oBACzB,UAAK,GAAY,KAAK,CAAC;oBACvB,WAAM,GAAY,KAAK,CAAC;oBACxB,cAAS,GAAW,MAAM,CAAC;gBAEqG,CAAC;gBACjI,mCAAQ,GAAR;oBAAA,iBAUC;oBATC,IAAI,EAAE,GAAE,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBACrC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAA,OAAO;wBAC9C,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;wBACvB,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,OAAO,CAAC,UAAU,CAAC;wBACzC,KAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,UAAA,MAAM;4BACzC,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC;wBAC/B,CAAC,CAAC,CAAC;wBACH,KAAI,CAAC,OAAO,GAAG,IAAI,CAAA;oBACrB,CAAC,CAAC,CAAA;gBACJ,CAAC;gBACD,oCAAS,GAAT,UAAU,KAAK;oBACb,EAAE,CAAA,CAAC,KAAK,IAAI,OAAO,CAAC,CAAA,CAAC;wBACnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;oBACpB,CAAC;oBACD,EAAE,CAAA,CAAC,KAAK,IAAI,QAAQ,CAAC,CAAA,CAAC;wBACpB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBACrB,CAAC;gBACH,CAAC;gBACD,sCAAW,GAAX;oBACE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;gBAC3C,CAAC;gBACD,sCAAW,GAAX,UAAY,KAAK;oBACf,EAAE,CAAA,CAAC,KAAK,IAAI,OAAO,CAAC,CAAA,CAAC;wBACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;oBACrB,CAAC;oBACD,EAAE,CAAA,CAAC,KAAK,IAAI,QAAQ,CAAC,CAAA,CAAC;wBACpB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACtB,CAAC;gBACH,CAAC;gBACD,wCAAa,GAAb;oBACE,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;gBACpE,CAAC;gBACD,wCAAa,GAAb,UAAc,IAAY;oBACxB,IAAI,CAAC,OAAO,CAAC,UAAU,GAAG,IAAI,CAAC;oBAC/B,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;gBAC/E,CAAC;gBACD,uCAAY,GAAZ,UAAa,MAAe,EAAE,KAAa;oBACzC,EAAE,CAAA,CAAC,KAAK,IAAI,QAAQ,CAAC,CAAA,CAAC;wBACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,CAAC;wBACzC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;oBAC1E,CAAC;oBACD,EAAE,CAAA,CAAC,KAAK,IAAI,WAAW,CAAC,CAAA,CAAC;wBACvB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,CAAC;wBACzC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;oBAC1E,CAAC;oBACD,EAAE,CAAA,CAAC,KAAK,IAAI,QAAQ,CAAC,CAAA,CAAC;wBACpB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,CAAC;wBACzC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;oBAC1E,CAAC;gBACH,CAAC;gBAnEH;oBAAC,gBAAS,CAAC;wBACT,QAAQ,EAAE,mBAAmB;wBAC7B,WAAW,EAAE,4BAA4B;wBACzC,UAAU,EAAE,CAAC,8BAAa,EAAE,wCAAkB,CAAC;wBAC/C,SAAS,EAAE,CAAC,gCAAc,EAAE,8BAAa,CAAC;qBAC3C,CAAC;;oCAAA;gBA+DF,uBAAC;YAAD,CAAC,AA7DD,IA6DC;YA7DD,+CA6DC,CAAA","sourcesContent":["import { Component } from 'angular2/core';\r\nimport { MenuComponent } from './menu.component';\r\nimport { SeleccionComponent } from './seleccion.component';\r\nimport { UsuarioService } from './usuario.service';\r\nimport { OnInit } from 'angular2/core';\r\nimport { Usuario } from './usuario.model'\r\nimport { Datos } from './datos.model';\r\nimport { RouteParams } from 'angular2/router';\r\nimport { Sesion } from './sesion.model';\r\nimport { SesionService } from './sesion.service';\r\n\r\n@Component({\r\n  selector: 'ajustes-component',\r\n  templateUrl: 'app/ajustes.component.html',\r\n  directives: [MenuComponent, SeleccionComponent],\r\n  providers: [UsuarioService, SesionService]\r\n})\r\n\r\nexport class AjustesComponent  implements OnInit {\r\n  //Variables\r\n  usuario: Usuario;\r\n  actual: string;\r\n  visible: boolean = false;\r\n  datos: boolean = false;\r\n  contra: boolean = false;\r\n  preContra: string = 'nada';\r\n  //Metodos\r\n  constructor(private _usuarioService: UsuarioService, private _routeParams: RouteParams, private _sesionService: SesionService) {}\r\n  ngOnInit() {\r\n    let id= +this._routeParams.get('id');\r\n    this._usuarioService.getUsuario(id).then(usuario =>{\r\n      this.usuario = usuario;\r\n      this.preContra = this.usuario.contrasena;\r\n      this._sesionService.getSesion().then(sesion =>{\r\n        this.actual = sesion.usuario;\r\n      });\r\n      this.visible = true\r\n    })\r\n  }\r\n  notificar(campo){\r\n    if(campo == 'datos'){\r\n      this.datos = true;\r\n    }\r\n    if(campo == 'contra'){\r\n      this.contra = true;\r\n    }\r\n  }\r\n  prepaContra(){\r\n    this.preContra = this.usuario.contrasena;\r\n  }\r\n  noNotificar(campo){\r\n    if(campo == 'datos'){\r\n      this.datos = false;\r\n    }\r\n    if(campo == 'contra'){\r\n      this.contra = false;\r\n    }\r\n  }\r\n  guardarDatosP(){\r\n    this._usuarioService.setPersonales(this.usuario, this.usuario.id);\r\n  }\r\n  guardarContra(pass: string){\r\n    this.usuario.contrasena = pass;\r\n    this._usuarioService.setContrase√±a(this.usuario.contrasena, this.usuario.id);\r\n  }\r\n  cambiaEstado(estado: boolean, sitio: string){\r\n    if(sitio == 'perfil'){\r\n      this.usuario.datos.pPerfilTodos = estado;\r\n      this._usuarioService.setPrivacidad(this.usuario.datos, this.usuario.id);\r\n    }\r\n    if(sitio == 'contenido'){\r\n      this.usuario.datos.cPerfilTodos = estado;\r\n      this._usuarioService.setPrivacidad(this.usuario.datos, this.usuario.id);\r\n    }\r\n    if(sitio == 'amigos'){\r\n      this.usuario.datos.aPerfilTodos = estado;\r\n      this._usuarioService.setPrivacidad(this.usuario.datos, this.usuario.id);\r\n    }\r\n  }\r\n}\r\n"]}