{"version":3,"file":"noticia-detail.component.js","sourceRoot":"","sources":["noticia-detail.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAiBA;gBAWE,wBAAoB,aAA4B,EAAS,eAAiC,EAAU,cAA6B,EACvH,YAAyB;oBADf,kBAAa,GAAb,aAAa,CAAe;oBAAS,oBAAe,GAAf,eAAe,CAAkB;oBAAU,mBAAc,GAAd,cAAc,CAAe;oBACvH,iBAAY,GAAZ,YAAY,CAAa;oBAVnC,YAAO,GAAY,KAAK,CAAC;gBAUa,CAAC;gBAEvC,iCAAQ,GAAR;oBAAA,iBAWC;oBAVC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBACtC,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,UAAA,SAAS;wBACzD,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;wBAC3B,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;wBACpB,KAAI,CAAC,cAAc,CAAC,aAAa,CAAC,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAA,QAAQ;4BACxE,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBAC3B,CAAC,CAAC,CAAA;oBACJ,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,cAAc,EAAE,CAAC;oBACtB,IAAI,CAAC,SAAS,EAAE,CAAC;gBACnB,CAAC;gBAED,uCAAc,GAAd;oBAAA,iBAIC;oBAHC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBACtC,IAAI,CAAC,MAAM,GAAC,EAAE,CAAC;oBACf,IAAI,CAAC,cAAc,CAAC,uBAAuB,CAAC,EAAE,CAAC,CAAC,IAAI,CAAE,UAAA,IAAI,IAAI,OAAA,KAAI,CAAC,WAAW,GAAG,IAAI,EAAvB,CAAuB,CAAC,CAAC;gBACzF,CAAC;gBACD,kCAAS,GAAT;oBAAA,iBAKC;oBAJC,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,UAAA,KAAK;wBACvC,KAAI,CAAC,MAAM,GAAC,KAAK,CAAC;wBAClB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;oBACnC,CAAC,CAAC,CAAC;gBACL,CAAC;gBACD,yCAAgB,GAAhB;oBAEE,IAAI,CAAC,eAAe,GAAG;wBACrB,YAAY,EAAC,IAAI,CAAC,MAAM,CAAC,EAAE;wBAC3B,OAAO,EAAC,CAAC;wBACT,WAAW,EAAC,IAAI,CAAC,MAAM;wBACvB,IAAI,EAAC,IAAI,CAAC,MAAM,CAAC,OAAO;wBACxB,QAAQ,EAAC,IAAI,CAAC,MAAM,CAAC,MAAM;wBAC3B,KAAK,EAAC,KAAK;wBACX,UAAU,EAAC,CAAC;wBACZ,OAAO,EAAC,IAAI,CAAC,SAAS;qBACvB,CAAC;oBACF,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;oBACxD,IAAI,CAAC,cAAc,EAAE,CAAC;oBACtB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;gBAE5C,CAAC;gBA7DH;oBAAC,gBAAS,CAAC;wBACT,QAAQ,EAAE,kBAAkB;wBAC5B,WAAW,EAAE,mCAAmC;wBAChD,SAAS,EAAE,CAAC,oCAAgB,EAAE,8BAAa,CAAC;wBAC5C,UAAU,EAAE,CAAC,4CAAoB,CAAC;qBACnC,CAAC;;kCAAA;gBAyDF,qBAAC;YAAD,CAAC,AAvDD,IAuDC;YAvDD,2CAuDC,CAAA","sourcesContent":["import {Component, OnInit} from 'angular2/core';\nimport {Contenido} from './contenido.model';\nimport {ContenidoService} from './contenido.service';\nimport {clasesservice} from './clases.service';\nimport {SesionService} from './sesion.service';\nimport { RouteParams } from 'angular2/router';\nimport {Prod,comentario} from './clases';\nimport {Sesion} from './sesion.model';\nimport {comentarioscomponent} from './comentarios.component';\n\n@Component({\n  selector: 'noticia-detalles',\n  templateUrl: 'app/noticia-detail.component.html',\n  providers: [ContenidoService, clasesservice],\n  directives: [comentarioscomponent]\n})\n\nexport class NoticiaDetails implements OnInit{\n  contenido: Contenido;\n  visible: boolean = false;\n  producto: Prod;\n  comentarios:comentario[];\n  resp_comentario:comentario;\n  sesion:Sesion;\n\n  aux_id:number;\n  respuesta:string;\n\n  constructor(private SesionService: SesionService,private _contentService: ContenidoService, private _clasesService: clasesservice,\n    private _routeParams: RouteParams) {}\n\n  ngOnInit() {\n    let id = +this._routeParams.get('id');\n    this._contentService.getContenidoId(id).subscribe(contenido =>{\n      this.contenido = contenido;\n      this.visible = true;\n      this._clasesService.getProdNombre(this.contenido.nombreProd).then(producto =>{\n        this.producto = producto;\n      })\n    });\n    this.getComentarios();\n    this.getsesion();\n  }\n\n  getComentarios(){\n    let id = +this._routeParams.get('id');\n    this.aux_id=id;\n    this._clasesService.getcomentariosContenido(id).then( list => this.comentarios = list);\n  }\n  getsesion(){\n    this.SesionService.getSesion().then(login => {\n      this.sesion=login;\n      console.log(this.sesion.usuario);\n    });\n  }\n  enviarcomentario(){\n\n    this.resp_comentario = {\n      idcomentario:this.sesion.id,\n      idjuego:0,\n      idcontenido:this.aux_id,\n      user:this.sesion.usuario,\n      user_img:this.sesion.imagen,\n      fecha:\"Hoy\",\n      puntuacion:0,\n      mensaje:this.respuesta\n    };\n    this._clasesService.pushRespuesta(this.resp_comentario);\n    this.getComentarios();\n    console.log(this.resp_comentario.mensaje);\n\n  }\n}\n"]}