{"version":3,"file":"usuario.service.js","sourceRoot":"","sources":["usuario.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { USUARIOS } from './mock-usuario';\r\nimport { Injectable } from 'angular2/core';\r\nimport { Usuario } from './usuario.model'\r\nimport { Datos } from './datos.model';\r\nimport { Amigo } from './amigos.model';\r\nimport { Prod } from './clases';\r\n\r\n@Injectable()\r\nexport class UsuarioService {\r\n  //Obtener todos los usuarios\r\n  getUsuarios() {\r\n    return Promise.resolve(USUARIOS);\r\n  }\r\n  getUsuarios2() {\r\n    return USUARIOS;\r\n  }\r\n\r\n  getContenidoNombre(nombre:string){\r\n    return Promise.resolve(USUARIOS).then( list => list.filter(user => user.usuario===nombre)[0])\r\n  }\r\n  //Obtener un usuario\r\n  getUsuario(id: number) {\r\n    return Promise.resolve(USUARIOS).then(usuarios => usuarios.filter(usuario => usuario.id === id)[0])\r\n  }\r\n  //Cambiar la contraseña del usuario\r\n  setContraseña(pass: string, id:  number){\r\n    USUARIOS[id-1].contrasena = pass;\r\n  }\r\n  //Cambiar los datos personales del usuario\r\n  setPersonales(user: Usuario, id:  number){\r\n    USUARIOS[id-1].nombre = user.nombre;\r\n    USUARIOS[id-1].apellidos = user.apellidos;\r\n    USUARIOS[id-1].nacionalidad = user.nacionalidad;\r\n    USUARIOS[id-1].cumpleanos = user.cumpleanos;\r\n    USUARIOS[id-1].usuario = user.usuario;\r\n    USUARIOS[id-1].correo = user.correo;\r\n  }\r\n  //Cambiar la privacidad de un usuario\r\n  setPrivacidad(data: Datos, id:  number){\r\n    USUARIOS[id-1].datos.pPerfilTodos = data.pPerfilTodos;\r\n    USUARIOS[id-1].datos.cPerfilTodos = data.cPerfilTodos;\r\n    USUARIOS[id-1].datos.aPerfilTodos = data.aPerfilTodos;\r\n  }\r\n  //Añadir usuario\r\n  addUsuario(usuario: Usuario){\r\n    USUARIOS.push(usuario);\r\n  }\r\n  //Eliminar usuario\r\n  removeUsuario(usuario: Usuario){\r\n    let posicion = USUARIOS.indexOf(usuario);\r\n    USUARIOS.splice(posicion,1);\r\n  }\r\n  //Añadir amigo al usuario\r\n  addAmigo(amigo: Amigo, actual: Amigo){\r\n    USUARIOS[amigo.id-1].datos.amigos.push(actual);\r\n    USUARIOS[actual.id-1].datos.amigos.push(amigo);\r\n    USUARIOS[amigo.id-1].datos.nAmigos = USUARIOS[amigo.id-1].datos.nAmigos + 1;\r\n    USUARIOS[actual.id-1].datos.nAmigos = USUARIOS[actual.id-1].datos.nAmigos + 1;\r\n  }\r\n  //Borrar amigo del usuario\r\n  remAmigo(amigo: Amigo, actual: Amigo){\r\n    let posicion1 = USUARIOS[actual.id-1].datos.amigos.indexOf(amigo);\r\n    USUARIOS[actual.id-1].datos.amigos.splice(posicion1,1);\r\n    let posicion2 = USUARIOS[amigo.id-1].datos.amigos.indexOf(actual);\r\n    USUARIOS[amigo.id-1].datos.amigos.splice(posicion2,1);\r\n    USUARIOS[amigo.id-1].datos.nAmigos = USUARIOS[amigo.id-1].datos.nAmigos - 1;\r\n    USUARIOS[actual.id-1].datos.nAmigos = USUARIOS[actual.id-1].datos.nAmigos - 1;\r\n  }\r\n  //Cambiar favorito del usuario\r\n  setFavorito(fav: Prod, id:  number){\r\n    if(fav.tipoprod == 3){\r\n      USUARIOS[id-1].datos.fPeli = fav;\r\n    }\r\n    if(fav.tipoprod == 2){\r\n      USUARIOS[id-1].datos.fSerie = fav;\r\n    }\r\n    if(fav.tipoprod == 1){\r\n      USUARIOS[id-1].datos.fJuego = fav;\r\n    }\r\n  }\r\n  //Borrar favoritos\r\n  removeFav(producto: Prod, id: number){\r\n    if(producto.tipoprod == 3){\r\n      USUARIOS[id-1].datos.fPeli = { id: null, tipoprod: null, name: null, img: null, genero: null, plataforma: null};\r\n    }\r\n    if(producto.tipoprod == 2){\r\n      USUARIOS[id-1].datos.fSerie = { id: null, tipoprod: null, name: null, img: null, genero: null, plataforma: null};\r\n    }\r\n    if(producto.tipoprod == 1){\r\n      USUARIOS[id-1].datos.fJuego = { id: null, tipoprod: null, name: null, img: null, genero: null, plataforma: null};\r\n    }\r\n  }\r\n  //Añadir contenido al usuario\r\n  addContenido(producto: Prod, id: number){\r\n    USUARIOS[id-1].datos.contenido.push(producto);\r\n    if(producto.tipoprod == 3){\r\n      USUARIOS[id-1].datos.nPelis = USUARIOS[id-1].datos.nPelis + 1;\r\n    }\r\n    if(producto.tipoprod == 2){\r\n      USUARIOS[id-1].datos.nSeries = USUARIOS[id-1].datos.nSeries + 1;\r\n    }\r\n    if(producto.tipoprod == 1){\r\n      USUARIOS[id-1].datos.nJuegos = USUARIOS[id-1].datos.nJuegos + 1;\r\n    }\r\n  }\r\n  //Eliminar contenido del usuario\r\n  removeContenido(producto: Prod, id: number){\r\n    let posicion = USUARIOS[id-1].datos.contenido.indexOf(producto);\r\n    USUARIOS[id-1].datos.contenido.splice(posicion,1);\r\n    if(producto.tipoprod == 3){\r\n      USUARIOS[id-1].datos.nPelis = USUARIOS[id-1].datos.nPelis - 1;\r\n    }\r\n    if(producto.tipoprod == 2){\r\n      USUARIOS[id-1].datos.nSeries = USUARIOS[id-1].datos.nSeries - 1;\r\n    }\r\n    if(producto.tipoprod == 1){\r\n      USUARIOS[id-1].datos.nJuegos = USUARIOS[id-1].datos.nJuegos - 1;\r\n    }\r\n  }\r\n}\r\n"]}