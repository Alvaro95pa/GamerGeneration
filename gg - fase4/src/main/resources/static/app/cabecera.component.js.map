{"version":3,"file":"cabecera.component.js","sourceRoot":"","sources":["cabecera.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, OnInit} from 'angular2/core';\r\nimport { RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS } from 'angular2/router';\r\nimport {HTTP_PROVIDERS, Http} from 'angular2/http';\r\nimport {FooterComponent} from './footer.component';\r\nimport {Home} from './home';\r\nimport {Analisis} from './analisis';\r\nimport {Sesion} from './sesion.model';\r\nimport {Usuario} from './usuario.model';\r\nimport {Noticias} from './noticias.component';\r\nimport {SesionService} from './sesion.service';\r\nimport {UsuarioService} from './usuario.service';\r\nimport {AnalisisDetails} from './analisis-details';\r\nimport {NoticiaDetails} from './noticia-detail.component';\r\nimport {registrar} from './registro.component';\r\nimport {CuentaComponent} from './cuenta.component';\r\nimport { ContenidoComponent } from './contenido.component';\r\nimport {Prod} from './clases';\r\nimport {clasesservice} from './clases.service';\r\nimport {modoadminservice} from './modoadmin.service';\r\nimport {AdminService} from './admin.service';\r\nimport { AmigosComponent } from './amigos.component';\r\nimport { AjustesComponent } from './ajustes.component';\r\nimport { GenteComponent } from './gente.component';\r\nimport {ContenidoService} from './contenido.service'\r\nimport {proddetalleComponent} from './prod-detalle.component';\r\nimport {listproductoscomponent} from './list-productos.component';\r\nimport {listproductosconfiltermenucomponent} from './list-productosconfiltermenu.component';\r\nimport {informacionprod} from './informacion-prod.component';\r\nimport {listusers} from './list-users.component';\r\nimport {listcontenido} from './list-contenido.component';\r\nimport {anadircontenido} from './anadircontenido.component';\r\nimport {anadirproducto} from './anadirproducto.component';\r\nimport {listobjetos} from './list-objetos.component';\r\nimport {loginadmin} from './adminlogin.component';\r\n\r\n@Component({\r\n\tselector: 'cabecera',\r\n\ttemplateUrl: 'app/cabecera.component.html',\r\n\tdirectives: [FooterComponent, Home, ROUTER_DIRECTIVES, CuentaComponent, AmigosComponent, AjustesComponent],\r\n\tproviders: [ROUTER_PROVIDERS, HTTP_PROVIDERS, SesionService, UsuarioService, modoadminservice, clasesservice, ContenidoService, AdminService]\r\n})\r\n@RouteConfig([\r\n  {\r\n    path: '/home',\r\n    name: 'Home',\r\n    component: Home,\r\n    useAsDefault: true\r\n  },\r\n  {\r\n    path: '/analisis',\r\n    name: 'Analisis',\r\n    component: Analisis\r\n  },\r\n\t{\r\n\t\tpath: '/analisis/:id',\r\n\t\tname: 'AnalisisDetalles',\r\n\t\tcomponent: AnalisisDetails\r\n\t},\r\n\t{\r\n\t\tpath: '/noticias',\r\n\t\tname: 'Noticias',\r\n\t\tcomponent: Noticias\r\n\t},\r\n\t{\r\n\t\tpath: '/noticias/:id',\r\n\t\tname: 'NoticiaDetails',\r\n\t\tcomponent: NoticiaDetails\r\n\t},\r\n\t{\r\n\t\tpath: '/registro',\r\n\t\tname: 'Registro',\r\n\t\tcomponent: registrar\r\n\t},\r\n\t{\r\n    path: '/Cuenta/:id',\r\n    name: 'Cuenta',\r\n    component: CuentaComponent,\r\n  },\r\n  {\r\n  path: '/ajustes/:id',\r\n  name: 'Ajustes',\r\n  component: AjustesComponent,\r\n  },\r\n  {\r\n  path: '/amigos/:id',\r\n  name: 'Amigos',\r\n  component: AmigosComponent,\r\n  },\r\n  {\r\n  path: '/contenido/:id',\r\n  name: 'Contenido',\r\n  component: ContenidoComponent,\r\n  },\r\n  {\r\n  path: '/gente',\r\n  name: 'Gente',\r\n  component: GenteComponent,\r\n\t},\r\n\t{\r\n    path:'/Catalogo/1/',\r\n    name: 'Princ_Catalogo',\r\n    component: listproductoscomponent,\r\n  },\r\n  {\r\n    path: '/Catalogo/:tipoprod/:idprod',\r\n    name: 'Detalleprod',\r\n    component:informacionprod\r\n  },\r\n  {\r\n    path:'/Catalogo/:tipoprod/:tipo/:filtro',\r\n    name: 'FiltroJ',\r\n    component: listproductosconfiltermenucomponent,\r\n  },\r\n  {\r\n    path:'/Catalogo/:tipoprod',\r\n    name: 'SelecCatalogo',\r\n    component: listproductoscomponent,\r\n  },\r\n  {\r\n    path:'/Admin',\r\n    name: 'AdminLogin',\r\n    component: loginadmin\r\n  },\r\n  {\r\n    path:'/Admin/Users',\r\n    name: 'AdminUsers',\r\n    component: listusers\r\n  },\r\n  {\r\n    path:'/Admin/:tipo',\r\n    name: 'AdminContenido',\r\n    component: listcontenido\r\n  },\r\n  {\r\n    path:'/Admin/:tipo/:nuevo',\r\n    name: 'AdminNewContenido',\r\n    component: anadircontenido\r\n  },\r\n  {\r\n    path:'/Admin/Productos',\r\n    name: 'AdminProductos',\r\n    component: listobjetos\r\n  },\r\n  {\r\n    path:'/Admin/Productos/AÃ±adirProducto',\r\n    name: 'AdminNewProducto',\r\n    component: anadirproducto\r\n  }\r\n])\r\n\r\nexport class CabeceraComponent implements OnInit{\r\n\tsesion: Sesion;\r\n\tusr: Usuario[] = [];\r\n\tvisible: boolean = false;\r\n\r\n\tconstructor(private _sesionService: SesionService, private _usuarioService: UsuarioService) {}\r\n\r\n\tngOnInit(){\r\n\t\tthis._sesionService.getSesion().then(sesion =>{\r\n      this.sesion = sesion;\r\n\t\t\tthis.visible = true;\r\n\t\t})\r\n\t};\r\n\r\n\tinicioSesion(){\r\n\t\tthis.usr = this._usuarioService.getUsuarios2();\r\n\t\tfor(let i=0; i<this.usr.length; i++){\r\n\t\t\tif((this.sesion.usuario == this.usr[i].usuario) && (this.sesion.contrasena == this.usr[i].contrasena)){\r\n\t\t\t\tthis.sesion.user = true;\r\n\t\t\t\tthis.sesion.pass = true;\r\n\t\t\t\tthis.sesion.imagen = this.usr[i].imagen;\r\n\t\t\t\tthis.sesion.id = this.usr[i].id;\r\n\r\n\t\t\t} else if((this.sesion.usuario == this.usr[i].usuario) && (this.sesion.contrasena != this.usr[i].contrasena)){\r\n\t\t\t\t\tthis.sesion.user = true;\r\n          this.sesion.pass = false;\r\n\t\t\t} else if((this.sesion.usuario != this.usr[i].usuario) && (this.sesion.contrasena == this.usr[i].contrasena)){\r\n\t\t\t\t\tthis.sesion.pass = true;\r\n          this.sesion.user = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.sesion.loged = true;\r\n\t\tthis._sesionService.setSesion(this.sesion);\r\n\t}\r\n\r\n\tcierreSesion(){\r\n\t\tthis.sesion.user = false;\r\n\t\tthis.sesion.pass = false;\r\n\t\tthis.sesion.usuario = '';\r\n\t\tthis.sesion.contrasena = '';\r\n\t\tthis.sesion.loged = false;\r\n\t\tthis._sesionService.setSesion(this.sesion);\r\n\t}\r\n\r\n}\r\n"]}