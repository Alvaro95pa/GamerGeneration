{"version":3,"file":"cabecera.component.js","sourceRoot":"","sources":["cabecera.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, OnInit} from 'angular2/core';\r\nimport { RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS } from 'angular2/router';\r\nimport {HTTP_PROVIDERS, Http} from 'angular2/http';\r\nimport {FooterComponent} from './footer.component';\r\nimport {Home} from './home';\r\nimport {Analisis} from './analisis';\r\nimport {Usuario} from './usuario.model';\r\nimport {Noticias} from './noticias.component';\r\nimport {SesionService} from './sesion.service';\r\nimport {UsuarioService} from './usuario.service';\r\nimport {AnalisisDetails} from './analisis-details';\r\nimport {NoticiaDetails} from './noticia-detail.component';\r\nimport {registrar} from './registro.component';\r\nimport {CuentaComponent} from './cuenta.component';\r\nimport { ContenidoComponent } from './contenido.component';\r\nimport {Prod} from './clases';\r\nimport {clasesservice} from './clases.service';\r\nimport {modoadminservice} from './modoadmin.service';\r\nimport { AmigosComponent } from './amigos.component';\r\nimport { AjustesComponent } from './ajustes.component';\r\nimport { GenteComponent } from './gente.component';\r\nimport {ContenidoService} from './contenido.service'\r\nimport {proddetalleComponent} from './prod-detalle.component';\r\nimport {listproductoscomponent} from './list-productos.component';\r\nimport {informacionprod} from './informacion-prod.component';\r\nimport {listusers} from './list-users.component';\r\nimport {listcontenido} from './list-contenido.component';\r\nimport {anadircontenido} from './anadircontenido.component';\r\nimport {anadirproducto} from './anadirproducto.component';\r\nimport {listobjetos} from './list-objetos.component';\r\n\r\n@Component({\r\n\tselector: 'cabecera',\r\n\ttemplateUrl: 'app/cabecera.component.html',\r\n\tdirectives: [FooterComponent, Home, ROUTER_DIRECTIVES, CuentaComponent, AmigosComponent, AjustesComponent],\r\n\tproviders: [ROUTER_PROVIDERS, HTTP_PROVIDERS, SesionService, UsuarioService, modoadminservice, clasesservice, ContenidoService]\r\n})\r\n@RouteConfig([\r\n  {\r\n    path: '/home',\r\n    name: 'Home',\r\n    component: Home,\r\n    useAsDefault: true\r\n  },\r\n  {\r\n    path: '/analisis',\r\n    name: 'Analisis',\r\n    component: Analisis\r\n  },\r\n\t{\r\n\t\tpath: '/analisis/:id',\r\n\t\tname: 'AnalisisDetalles',\r\n\t\tcomponent: AnalisisDetails\r\n\t},\r\n\t{\r\n\t\tpath: '/noticias',\r\n\t\tname: 'Noticias',\r\n\t\tcomponent: Noticias\r\n\t},\r\n\t{\r\n\t\tpath: '/noticias/:id',\r\n\t\tname: 'NoticiaDetails',\r\n\t\tcomponent: NoticiaDetails\r\n\t},\r\n\t{\r\n\t\tpath: '/registro',\r\n\t\tname: 'Registro',\r\n\t\tcomponent: registrar\r\n\t},\r\n\t{\r\n    path: '/Cuenta/:id',\r\n    name: 'Cuenta',\r\n    component: CuentaComponent,\r\n  },\r\n  {\r\n  path: '/ajustes/:id',\r\n  name: 'Ajustes',\r\n  component: AjustesComponent,\r\n  },\r\n  {\r\n  path: '/amigos/:id',\r\n  name: 'Amigos',\r\n  component: AmigosComponent,\r\n  },\r\n  {\r\n  path: '/coleccion/:id',\r\n  name: 'Coleccion',\r\n  component: ContenidoComponent,\r\n  },\r\n  {\r\n  path: '/gente',\r\n  name: 'Gente',\r\n  component: GenteComponent,\r\n\t},\r\n\t{\r\n    path:'/Catalogo/1/',\r\n    name: 'Princ_Catalogo',\r\n    component: listproductoscomponent,\r\n  },\r\n  {\r\n    path: '/Catalogo/:tipoprod/:idprod',\r\n    name: 'Detalleprod',\r\n    component:informacionprod\r\n  },\r\n  {\r\n    path:'/Catalogo/:tipoprod',\r\n    name: 'SelecCatalogo',\r\n    component: listproductoscomponent,\r\n  },\r\n  {\r\n    path:'/Admin/Users',\r\n    name: 'AdminUsers',\r\n    component: listusers\r\n  },\r\n  {\r\n    path:'/Admin/:tipo',\r\n    name: 'AdminContenido',\r\n    component: listcontenido\r\n  },\r\n  {\r\n    path:'/Admin/:tipo/:nuevo',\r\n    name: 'AdminNewContenido',\r\n    component: anadircontenido\r\n  },\r\n  {\r\n    path:'/Admin/Productos',\r\n    name: 'AdminProductos',\r\n    component: listobjetos\r\n  },\r\n  {\r\n    path:'/Admin/Productos/AÃ±adirProducto',\r\n    name: 'AdminNewProducto',\r\n    component: anadirproducto\r\n  }\r\n])\r\n\r\nexport class CabeceraComponent implements OnInit{\r\n\tloged: boolean;\r\n\tusr: Usuario;\r\n\tvisible: boolean = false;\r\n\tfail: boolean = false;\r\n\tnumRols: number;\r\n\r\n\tconstructor(private _sesionService: SesionService, private _usuarioService: UsuarioService) {}\r\n\r\n\tngOnInit(){\r\n\t\tthis.visible = true;\r\n\t};\r\n\r\n\r\n\tlogInSpring(event: any, user: string, pass: string){\r\n\r\n\t  event.preventDefault();\r\n\r\n\t  this._sesionService.logIn(user, pass).subscribe(\r\n\t      user => {\r\n\t\t\t\t\tconsole.log(user);\r\n\t\t\t\t\tthis.usr = user;\r\n\t\t\t\t\tthis.fail = false;\r\n\t\t\t\t\tthis.numRols = user.roles.length;\r\n\t\t\t\t},\r\n\t      error =>{\r\n\t\t\t\t\tconsole.log(\"Invalid user or password\"),\r\n\t\t\t\t\tthis.fail = true;\r\n\t\t});\r\n  }\r\n\r\n\tlogOutSpring(){\r\n\t\tthis._sesionService.logOut().subscribe(\r\n\t\t\tresponse => {},\r\n\t\t\terror => console.log(\"Error when trying to log out: \"+error)\r\n\t\t);\r\n  }\r\n\r\n}\r\n"]}