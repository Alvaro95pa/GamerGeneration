{"version":3,"file":"list-objetos.component.js","sourceRoot":"","sources":["list-objetos.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component,Input,OnInit} from 'angular2/core';\r\nimport {usuario,Prod} from './clases';\r\nimport {clasesservice} from './clases.service';\r\nimport {modoadminservice} from './modoadmin.service';\r\nimport { Router } from 'angular2/router';\r\nimport { RouteParams } from 'angular2/router';\r\nimport {proddetalleComponent} from './prod-detalle.component'\r\n\r\n@Component({\r\n  selector:'listobjetos',\r\n  template: `\r\n\r\n    <div class=\"row admin fondo\">\r\n      <div class=\"col-sm-3 aux\">\r\n\r\n        <ul class=\"nav nav-pills nav-stacked col-sm-12 contorno\">\r\n          <li  [class.selected]=\"tipoopcion==1\" (click)=\"gotoadmin_users('Users')\"><a >Usuarios</a></li>\r\n          <li  [class.selected]=\"tipoopcion==2\" (click)=\"gotoadmin_contenido('Noticia')\"><a >Noticias</a></li>\r\n          <li  [class.selected]=\"tipoopcion==3\" (click)=\"gotoadmin_contenido('Análisis')\"><a >Analisis</a></li>\r\n          <li  [class.selected]=\"tipoopcion==4\" (click)=\"gotoadmin_productos()\"><a >Productos</a></li>\r\n          <li  (click)=\"gotoadmin_salir()\"><a >Salir</a></li>\r\n        </ul>\r\n        <ul class=\" filtroobjeto nav nav-pills nav-stacked col-sm-12 contorno\">\r\n          <li [class.selected]=\"tipoopcion==4\" ><a ><h3>Filtro</h3></a></li>\r\n          <li [class.selecteccheck]=\"juego==1\" (click)=\"onVideojuegos()\"><a >Videojuegos</a></li>\r\n          <li [class.selecteccheck]=\"series==2\" (click)=\"onSeries()\"><a >Series</a></li>\r\n          <li [class.selecteccheck]=\"pelis==3\" (click)=\"onPeliculas()\"><a >Peliculas</a></li>\r\n        </ul>\r\n        <button (click)=\"gotoAnadirProd()\"  class=\"btnanadir btn btn-danger col-sm-12 col-xs-12\"  >Añadir Producto</button>\r\n      </div>\r\n      <div class=\"col-sm-9\">\r\n        <ul class=\"listado\">\r\n          <li *ngFor=\"#produc of list_productos\">\r\n            <prod-detalle [prod]=\"produc\" ></prod-detalle>\r\n            <button (click)=\"eliminarProd(produc)\" class=\"btn col-sm-10 col-xs-10\"  >Eliminar</button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  `,\r\n  directives: [proddetalleComponent]\r\n})\r\n\r\nexport class listobjetos implements OnInit{\r\n  tipoopcion:number;\r\n  list_productos:Prod[];\r\n  checkjuego:boolean = false;\r\n  checkseries:boolean = false;\r\n  checkpelis:boolean = false;\r\n  juego:number = 0;\r\n  series:number = 0;\r\n  pelis:number = 0;\r\n\r\n  onVideojuegos(){\r\n    this.checkjuego=!this.checkjuego;\r\n    if (this.checkjuego){\r\n      this.juego=1;\r\n    } else {\r\n      this.juego=0;\r\n    }\r\n    console.log(this.checkjuego);\r\n    console.log(this.juego);\r\n    if (!this.checkpelis && !this.checkseries && !this.checkjuego){\r\n      this.getproductos();\r\n      console.log(\"asdasd\");\r\n    } else {\r\n      this.getproductosfiltro();\r\n    }\r\n  }\r\n  onSeries(){\r\n    this.checkseries=!this.checkseries;\r\n    if (this.checkseries){\r\n      this.series=2;\r\n    } else {\r\n      this.series=0;\r\n    }\r\n    console.log(this.checkseries);\r\n    console.log(this.series);\r\n    if (!this.checkpelis && !this.checkseries && !this.checkjuego){\r\n      this.getproductos();\r\n      console.log(\"asdasd\");\r\n    } else {\r\n      this.getproductosfiltro();\r\n    }\r\n  }\r\n  onPeliculas(){\r\n    this.checkpelis=!this.checkpelis;\r\n    if (this.checkpelis){\r\n      this.pelis=3;\r\n    } else {\r\n      this.pelis=0;\r\n    }\r\n    console.log(this.checkpelis);\r\n    console.log(this.pelis);\r\n    if (!this.checkpelis && !this.checkseries && !this.checkjuego){\r\n      this.getproductos();\r\n      console.log(\"asdasd\");\r\n    } else {\r\n      this.getproductosfiltro();\r\n    }\r\n  }\r\n  eliminarProd(produc:Prod){\r\n    this.adminservice.deleteProd(produc.id);\r\n    if (!this.checkpelis && !this.checkseries && !this.checkjuego){\r\n      this.getproductos();\r\n      console.log(\"Prueba\");\r\n    } else {\r\n      this.getproductosfiltro();\r\n    }\r\n  }\r\n\r\n  constructor (private router: Router,private adminservice: modoadminservice,private clasesservice: clasesservice,private _routeParams: RouteParams){}\r\n  getproductos(){\r\n    this.adminservice.getProductos().subscribe(list => this.list_productos=list);\r\n  }\r\n  getproductosfiltro(){\r\n    this.adminservice.getProductosFiltro(this.juego,this.series,this.pelis).subscribe(list => this.list_productos=list);\r\n  }\r\n  getopcion(){\r\n    let opcion = this._routeParams.get('opcion');\r\n    console.log(opcion);\r\n    this.tipoopcion=4;\r\n  }\r\n  ngOnInit(){\r\n    this.getopcion();\r\n    this.getproductos();\r\n    console.log(this.tipoopcion);\r\n  }\r\n\r\n  gotoadmin_users(){\r\n    let link = ['AdminUsers'];\r\n    this.router.navigate(link);\r\n  }\r\n  gotoadmin_contenido(opc:string){\r\n    let link = ['AdminContenido',{tipo:opc}];\r\n    this.router.navigate(link);\r\n  }\r\n  gotoadmin_productos(){\r\n    let link = ['AdminProductos'];\r\n    this.router.navigate(link);\r\n  }\r\n  gotoadmin_salir(){\r\n    let link = ['Princ_Catalogo'];\r\n    this.router.navigate(link);\r\n  }\r\n  gotoAnadirProd(){\r\n    let link = ['AdminNewProducto'];\r\n    this.router.navigate(link);\r\n  }\r\n}\r\n"]}