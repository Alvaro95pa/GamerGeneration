{"version":3,"file":"list-objetos.component.js","sourceRoot":"","sources":["list-objetos.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component,Input,OnInit} from 'angular2/core';\nimport {Prod} from './clases';\nimport {clasesservice} from './clases.service';\nimport {modoadminservice} from './modoadmin.service';\nimport { Router } from 'angular2/router';\nimport { RouteParams } from 'angular2/router';\nimport {proddetalleComponent} from './prod-detalle.component'\nimport {SesionService} from './sesion.service';\nimport { Usuario } from './usuario.model'\n\n@Component({\n  selector:'listobjetos',\n  template: `\n\n    <div class=\"row admin fondo\">\n      <div class=\"col-sm-3 aux\">\n\n        <ul class=\"nav nav-pills nav-stacked col-sm-12 contorno\">\n          <li  [class.selected]=\"tipoopcion==1\" (click)=\"gotoadmin_users('Users')\"><a >Usuarios</a></li>\n          <li  [class.selected]=\"tipoopcion==2\" (click)=\"gotoadmin_contenido('Noticia')\"><a >Noticias</a></li>\n          <li  [class.selected]=\"tipoopcion==3\" (click)=\"gotoadmin_contenido('Análisis')\"><a >Analisis</a></li>\n          <li  [class.selected]=\"tipoopcion==4\" (click)=\"gotoadmin_productos()\"><a >Productos</a></li>\n          <li  (click)=\"gotoadmin_salir()\"><a >Salir</a></li>\n        </ul>\n        <ul class=\" filtroobjeto nav nav-pills nav-stacked col-sm-12 contorno\">\n          <li [class.selected]=\"tipoopcion==4\" ><a ><h3>Filtro</h3></a></li>\n          <li [class.selecteccheck]=\"juego==1\" (click)=\"onVideojuegos()\"><a >Videojuegos</a></li>\n          <li [class.selecteccheck]=\"series==2\" (click)=\"onSeries()\"><a >Series</a></li>\n          <li [class.selecteccheck]=\"pelis==3\" (click)=\"onPeliculas()\"><a >Peliculas</a></li>\n        </ul>\n        <button (click)=\"gotoAnadirProd()\"  class=\"btnanadir btn btn-danger col-sm-12 col-xs-12\"  >Añadir Producto</button>\n      </div>\n      <div class=\"col-sm-9\">\n        <ul class=\"listado\">\n          <li *ngFor=\"#produc of list_productos\">\n            <prod-detalle [prod]=\"produc\" ></prod-detalle>\n            <button (click)=\"eliminarProd(produc)\" class=\"btn col-sm-10 col-xs-10\"  >Eliminar</button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  `,\n  directives: [proddetalleComponent]\n})\n\nexport class listobjetos implements OnInit{\n  tipoopcion:number;\n  list_productos:Prod[];\n  checkjuego:boolean = false;\n  checkseries:boolean = false;\n  checkpelis:boolean = false;\n  juego:number = 0;\n  series:number = 0;\n  pelis:number = 0;\n\n  constructor (private router: Router,private _sesionService: SesionService,private adminservice: modoadminservice,private clasesservice: clasesservice,private _routeParams: RouteParams){}\n\n  onVideojuegos(){\n    this.checkjuego=!this.checkjuego;\n    if (this.checkjuego){\n      this.juego=1;\n    } else {\n      this.juego=0;\n    }\n    if (!this.checkpelis && !this.checkseries && !this.checkjuego){\n      this.getproductos();\n    } else {\n      this.getproductosfiltro();\n    }\n  }\n  onSeries(){\n    this.checkseries=!this.checkseries;\n    if (this.checkseries){\n      this.series=2;\n    } else {\n      this.series=0;\n    }\n    if (!this.checkpelis && !this.checkseries && !this.checkjuego){\n      this.getproductos();\n    } else {\n      this.getproductosfiltro();\n    }\n  }\n  onPeliculas(){\n    this.checkpelis=!this.checkpelis;\n    if (this.checkpelis){\n      this.pelis=3;\n    } else {\n      this.pelis=0;\n    }\n    if (!this.checkpelis && !this.checkseries && !this.checkjuego){\n      this.getproductos();\n    } else {\n      this.getproductosfiltro();\n    }\n  }\n  eliminarProd(produc:Prod){\n    this.adminservice.deleteProd(produc.id).subscribe(id =>{\n      if (!this.checkpelis && !this.checkseries && !this.checkjuego){\n        this.getproductos();\n      } else {\n        this.getproductosfiltro();\n      }\n    });\n\n  }\n\n  getproductos(){\n    this.adminservice.getProductos().subscribe(list => this.list_productos=list);\n  }\n  getproductosfiltro(){\n    this.adminservice.getProductosFiltro(this.juego,this.series,this.pelis).subscribe(list => this.list_productos=list);\n  }\n  getopcion(){\n    let opcion = this._routeParams.get('opcion');\n    this.tipoopcion=4;\n  }\n  ngOnInit(){\n    this.getopcion();\n    this.getproductos();\n  }\n\n  gotoadmin_users(){\n    let link = ['AdminUsers'];\n    this.router.navigate(link);\n  }\n  gotoadmin_contenido(opc:string){\n    let link = ['AdminContenido',{tipo:opc}];\n    this.router.navigate(link);\n  }\n  gotoadmin_productos(){\n    let link = ['AdminProductos'];\n    this.router.navigate(link);\n  }\n  gotoadmin_salir(){\n    this._sesionService.logOut().subscribe(\n  \t\tresponse => {},\n  \t\terror => console.log(\"Error when trying to log out: \"+error)\n  \t);\n    let link = ['Home'];\n    this.router.navigate(link);\n  }\n  gotoAnadirProd(){\n    let link = ['AdminNewProducto'];\n    this.router.navigate(link);\n  }\n}\n"]}