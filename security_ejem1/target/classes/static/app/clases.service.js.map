{"version":3,"file":"clases.service.js","sourceRoot":"","sources":["clases.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;QAQM,QAAQ,EACR,SAAS;;;;;;;;;;;;;;YADT,QAAQ,GAAG,kCAAkC,CAAC;YAC9C,SAAS,GAAG,oCAAoC,CAAC;YAGvD;gBACE,uBAAoB,IAAU;oBAAV,SAAI,GAAJ,IAAI,CAAM;gBAAG,CAAC;gBAElC,oCAAY,GAAZ;oBAAA,iBAIC;oBAHC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,MAAM,CAAC;yBACpC,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,EAAE,EAAX,CAAW,CAAC;yBACxB,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;gBAC1C,CAAC;gBAED,qCAAa,GAAb,UAAe,IAAW;oBAA1B,iBAIC;oBAHC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC;yBACxC,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,EAAE,EAAX,CAAW,CAAC;yBACxB,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;gBAC1C,CAAC;gBAED,0CAAkB,GAAlB,UAAmB,KAAY,EAAC,MAAa,EAAC,KAAY;oBAA1D,iBAIC;oBAHC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,UAAU,GAAG,GAAG,GAAG,KAAK,GAAI,GAAG,GAAG,MAAM,GAAI,GAAG,GAAG,KAAK,CAAC;yBACrF,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,EAAE,EAAX,CAAW,CAAC;yBACxB,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;gBAC1C,CAAC;gBAED,wCAAgB,GAAhB,UAAiB,IAAY;oBAA7B,iBAIC;oBAHC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,YAAY,GAAG,IAAI,CAAC;yBACjD,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,EAAE,EAAX,CAAW,CAAC;yBACxB,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;gBAC1C,CAAC;gBACD,+BAAO,GAAP,UAAS,EAAS;oBAAlB,iBAIC;oBAHC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,MAAM,GAAG,EAAE,CAAC;yBACzC,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,EAAE,EAAX,CAAW,CAAC;yBACxB,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;gBAC1C,CAAC;gBAED,yCAAiB,GAAjB,UAAkB,QAAe,EAAE,IAAY;oBAA/C,iBAIC;oBAHC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,cAAc,GAAE,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC;yBACnE,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,EAAE,EAAX,CAAW,CAAC;yBACxB,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;gBAC1C,CAAC;gBACD,qCAAa,GAAb,UAAc,QAAe,EAAE,GAAW;oBAA1C,iBAIC;oBAHC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,UAAU,GAAG,QAAQ,GAAG,GAAG,GAAG,GAAG,CAAC;yBAC/D,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,EAAE,EAAX,CAAW,CAAC;yBACxB,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;gBAC1C,CAAC;gBAED,sCAAc,GAAd,UAAe,OAAc;oBAA7B,iBAG6C;oBAF3C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,WAAW,GAAG,OAAO,CAAC;yBACnD,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,EAAE,EAAX,CAAW,CAAC;yBACxB,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;gBAAE,CAAC;gBAE7C,+CAAuB,GAAvB,UAAwB,WAAkB;oBAA1C,iBAIC;oBAHC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,eAAe,GAAG,WAAW,CAAC;yBAC5D,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,EAAE,EAAX,CAAW,CAAC;yBACxB,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;gBAC1C,CAAC;gBACD,qCAAa,GAAb,UAAc,UAAqB;oBAAnC,iBAUC;oBATC,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;oBACtC,IAAI,OAAO,GAAG,IAAI,cAAO,CAAC;wBACtB,cAAc,EAAE,kBAAkB;wBAClC,kBAAkB,EAAE,gBAAgB;qBACvC,CAAC,CAAC;oBACH,IAAI,OAAO,GAAG,IAAI,qBAAc,CAAC,EAAE,SAAA,OAAO,EAAE,CAAC,CAAC;oBAC9C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,kBAAkB,EAAC,IAAI,EAAC,OAAO,CAAC;yBAC/D,GAAG,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,IAAI,EAAE,EAAX,CAAW,CAAC;yBACxB,KAAK,CAAC,UAAA,GAAG,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAtB,CAAsB,CAAC,CAAC;gBAC1C,CAAC;gBAED,0CAAkB,GAAlB,UAAmB,QAAc;oBAAjC,iBASC;oBARC,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;oBACvC,IAAI,OAAO,GAAG,IAAI,cAAO,CAAC;wBACtB,cAAc,EAAE,kBAAkB;qBACrC,CAAC,CAAC;oBACH,IAAI,OAAO,GAAG,IAAI,qBAAc,CAAC,EAAC,SAAA,OAAO,EAAC,CAAC,CAAC;oBAC5C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAC,GAAG,GAAC,QAAQ,CAAC,EAAE,EAAE,OAAO,EAAE,OAAO,CAAC;yBAC/D,GAAG,CAAC,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,IAAI,EAAE,EAAf,CAAe,CAAC;yBAChC,KAAK,CAAC,UAAA,KAAK,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAxB,CAAwB,CAAC,CAAC;gBAC5C,CAAC;gBAED;;;;;;;mBAOG;gBAEK,oCAAY,GAApB,UAAqB,KAAU;oBAC7B,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;oBACrB,MAAM,CAAC,uBAAU,CAAC,KAAK,CAAC,gBAAgB,GAAG,KAAK,CAAC,MAAM,GAAG,KAAK,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC,CAAA;gBACjF,CAAC;gBAzFH;oBAAC,iBAAU,EAAE;;iCAAA;gBA0Fb,oBAAC;YAAD,CAAC,AAzFD,IAyFC;YAzFD,yCAyFC,CAAA","sourcesContent":["import {Injectable} from 'angular2/core';\r\n\r\nimport {Prod,comentario} from './clases';\r\nimport { Usuario } from './usuario.model'\r\nimport {Http, Headers, RequestOptions} from 'angular2/http';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport 'rxjs/Rx';\r\n\r\nconst BASE_URL = 'https://localhost:8443/productos';\r\nconst BASE_URL2 = 'https://localhost:8443/comentarios';\r\n\r\n@Injectable()\r\nexport class clasesservice {\r\n  constructor(private http: Http) {}\r\n\r\n  getProductos (){\r\n    return this.http.get(BASE_URL + '/all')\r\n      .map(resp => resp.json())\r\n      .catch(err => this.mostrarError(err));\r\n  }\r\n\r\n  getProdNombre (name:String){\r\n    return this.http.get(BASE_URL + '/' + name)\r\n      .map(resp => resp.json())\r\n      .catch(err => this.mostrarError(err));\r\n  }\r\n\r\n  getProductosFiltro(juego:number,series:number,pelis:number){\r\n    return this.http.get(BASE_URL + '/filtro/' + \"/\" + juego  + \"/\" + series  + \"/\" + pelis)\r\n      .map(resp => resp.json())\r\n      .catch(err => this.mostrarError(err));\r\n  }\r\n\r\n  getProductosTipo(tipo: number){\r\n    return this.http.get(BASE_URL + '/tipoprod/' + tipo)\r\n      .map(resp => resp.json())\r\n      .catch(err => this.mostrarError(err));\r\n  }\r\n  getProd (id:number){\r\n    return this.http.get(BASE_URL + '/id/' + id)\r\n      .map(resp => resp.json())\r\n      .catch(err => this.mostrarError(err));\r\n  }\r\n\r\n  getProdPlataforma(tipoprod:number, plat: String){\r\n    return this.http.get(BASE_URL + '/plataforma/'+ tipoprod + '/' + plat)\r\n      .map(resp => resp.json())\r\n      .catch(err => this.mostrarError(err));\r\n  }\r\n  getProdGenero(tipoprod:number, gen: String){\r\n    return this.http.get(BASE_URL + '/genero/' + tipoprod + '/' + gen)\r\n      .map(resp => resp.json())\r\n      .catch(err => this.mostrarError(err));\r\n  }\r\n\r\n  getcomentarios(idjuego:number){\r\n    return this.http.get(BASE_URL + '/idjuego/' + idjuego)\r\n      .map(resp => resp.json())\r\n      .catch(err => this.mostrarError(err));  }\r\n\r\n  getcomentariosContenido(idcontenido:number){\r\n    return this.http.get(BASE_URL2 + '/idcontenido/' + idcontenido)\r\n      .map(resp => resp.json())\r\n      .catch(err => this.mostrarError(err));\r\n  }\r\n  pushRespuesta(comentario:comentario){\r\n    let body = JSON.stringify(comentario);\r\n    let headers = new Headers({\r\n        'Content-Type': 'application/json',\r\n        'X-Requested-With': 'XMLHttpRequest'\r\n    });\r\n    let options = new RequestOptions({ headers });\r\n    return this.http.post(BASE_URL2 + '/nuevocomentario',body,options)\r\n      .map(resp => resp.json())\r\n      .catch(err => this.mostrarError(err));\r\n  }\r\n\r\n  actualizarProducto(producto: Prod){\r\n    let añadido = JSON.stringify(producto);\r\n    let headers = new Headers({\r\n        'Content-Type': 'application/json'\r\n    });\r\n    let options = new RequestOptions({headers});\r\n    return this.http.put(BASE_URL+\"/\"+producto.id, añadido, options)\r\n    .map(response => response.json())\r\n    .catch(error => this.mostrarError(error));\r\n  }\r\n\r\n  /*getusuarios(){\r\n    return Promise.resolve (usuarios_list);\r\n  }\r\n  deleteUser(user:usuario){\r\n    let position = usuarios_list.indexOf(user);\r\n    usuarios_list.splice(position,1);\r\n    console.log(position);\r\n  }*/\r\n\r\n  private mostrarError(error: any){\r\n    console.error(error);\r\n    return Observable.throw(\"Server error (\" + error.status + \"): \" + error.text())\r\n  }\r\n}\r\n"]}